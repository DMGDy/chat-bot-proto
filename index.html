<!--
  Copyright (C) 2025 Your Name or Organization

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published
  by the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see <https://www.gnu.org/licenses/>.

  Author: Dylan Dy
  Email: dylangatza1909@gmail.com
  Project: chat bot proto
  File: index.html
  Created: 2025-09-30
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width"/>
    <title>Chat Bot Proof of Concept</title>
  </head>
  <body>
    <div id="chatHistory" role="log" aria-live="polite" aria-atomic="false">

      <div class="message bot-message">
        <span class="sender">Bot:</span>
        <p class="text">Hello!</p>
      </div>
    </div

    <label for="Ask:">Ask anything</label>
    <input type="text" id="prompt" name="prompt" placeholder="Ask your question here!">
    </input>
    <script>

      function addMessage(sender, text,isUser) {
        const chatHistory = document.getElementById('chatHistory');

        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;

        const senderSpan = document.createElement('span');
        senderSpan.className = 'sender';
        senderSpan.textContent = sender;

        const textP = document.createElement('p');
        textP.className = 'text';
        textP.textContent = text;

        messageDiv.appendChild(senderSpan);
        messageDiv.appendChild(textP);
        chatHistory.appendChild(messageDiv);
        chatHistory.scrollTop = chatHistory.scrollHeight;
      }

      const promptElement = document.getElementById("prompt");

      promptElement.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
          addMessage("You:",event.target.value, true);
          promptElement.value = "";
          // TODO: HTTP Post Method with this text as data in JSON
          // Have server respond with something and update UI
        }
      });
    </script>
  </body>
</html>
